<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>supermap</title>
    <link href="http://www.jq22.com/jquery/bootstrap-3.3.4.css" rel="stylesheet">
    <!--<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">-->
    <link href="css/bootstrap-treeview.css" rel="stylesheet">
    <link href="css/bootstrap-datetimepicker.min.css" rel="stylesheet" media="screen">

    <!--<link href="css/bootstrap.min.css" rel="stylesheet">-->
    <!--ajax提交表单需要引入jquery.form.js-->
    <!--<script type="text/javascript" src="http://malsup.github.io/jquery.form.js"></script>-->

    <!--<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.js"></script>-->
    <!--&lt;!&ndash;ajax提交表单需要引入jquery.form.js&ndash;&gt;-->
    <!--<script type="text/javascript" src="http://malsup.github.io/jquery.form.js"></script>-->
<style type="text/css">
    .file{
        width:50%;
        height:250px;
        overflow-x:hidden;
        overflow-y:auto;
    }

    /*兼容IE*/
    .file{
        scrollbar-face-color: gainsboro;/*移动滑块颜色*/
        scrollbar-shadow-color: black;/*移动滑块边框颜色*/
        scrollbar-track-color: #ccc;/*背景颜色*/
        scrollbar-arrow-color: #ddd;/*箭头颜色*/
    }
    .file::-webkit-scrollbar-track
    {
        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        background-color: #ccc;
    }/* 滚动条的滑轨背景颜色 */
    .file::-webkit-scrollbar
    {
        width: 6px;
        background-color: #ccc;
    }

    .file::-webkit-scrollbar-thumb
    {
        background-color: gainsboro;
    }

    .showJpg{
        width:100%;
        height:600px;
        overflow-x:auto;
        overflow-y:auto;
    }
    /*.showJpg{*/
        /*scrollbar-face-color: gainsboro;!*移动滑块颜色*!*/
        /*scrollbar-shadow-color: black;!*移动滑块边框颜色*!*/
        /*scrollbar-track-color: #ccc;!*背景颜色*!*/
        /*scrollbar-arrow-color: #ddd;!*箭头颜色*!*/
    /*}*/
    /*.showJpg::-webkit-scrollbar-track*/
    /*{*/
        /*-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);*/
        /*background-color: #ccc;*/
    /*}!* 滚动条的滑轨背景颜色 *!*/
    /*.showJpg::-webkit-scrollbar*/
    /*{*/
        /*width: 6px;*/
        /*background-color: #ccc;*/
    /*}*/

    /*.showJpg::-webkit-scrollbar-thumb*/
    /*{*/
        /*background-color: gainsboro;*/
    /*}*/

    #form{
        width:100%;
        height:700px;
        overflow-x:hidden;
        overflow-y:auto;
    }
    #form{
        scrollbar-face-color: gainsboro;/*移动滑块颜色*/
        scrollbar-shadow-color: black;/*移动滑块边框颜色*/
        scrollbar-track-color: #ccc;/*背景颜色*/
        scrollbar-arrow-color: #ddd;/*箭头颜色*/
    }
    #form::-webkit-scrollbar-track
    {
        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        background-color: #ccc;
    }/* 滚动条的滑轨背景颜色 */
    #from::-webkit-scrollbar
    {
        width: 6px;
        background-color: #ccc;
    }

    #form::-webkit-scrollbar-thumb
    {
        background-color: gainsboro;
    }
</style>
</head>

<body>
    <div style="float: left;width: 50%;height: 100%" class="left" >
        <div id="divShowJpg" class="showJpg">
            <img   id="showJpg" style="height:800px;width: 600px;display: block" src="supermap.jpg"  class="img-rounded">
        </div>
        <div  style="width: 100%;height: 250px">
            <div class="file" style="float: left">
                <div id="folder" class="div" ></div>
            </div>
            <div  class="file" style="float: left">
                <div id="jpg" class="div"></div>
            </div>
        </div>
    </div>

    <div style="float: left;height: 100%;width: 50%">
        <div id="form">
            <form method="post"   id="allData">
                <!--<div class="control-group">-->
                    <!--<label class="control-label">Date Picking</label>-->
                    <!--<div class="controls input-append date form_date" data-date="" data-date-format="dd MM yyyy" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">-->
                        <!--<input  size="16" type="text" value="" readonly>-->
                        <!--<span class="add-on"><i class="icon-remove"></i></span>-->
                        <!--<span class="add-on"><i class="icon-th"></i></span>-->
                    <!--</div>-->
                    <!--<input type="hidden" id="dtp_input2" value="" /><br/>-->
                <!--</div>-->

                <div>
                <div style="height: 200px" class="from-row zdxx pre-scrollable">
                    <table class="zdxx table table-hover">
                        <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">宗地代码</th>
                            <th scope="col">地籍号</th>
                            <th scope="col">坐落</th>

                            <!--<th scope="col">封皮页数</th>-->
                        </tr>
                        </thead>
                        <tbody id="zdxxTable">

                        </tbody>
                    </table>
                </div>
                    <div class="from-row zdxx" id="selectZdjbxxForm">
                        <div class="zdxx form-group col-md-6">
                            <label for="zddm">宗地代码</label>
                            <input type="text" class="form-control"  id="zddmselect" >
                        </div>
                        <div class="zdxx form-group col-md-6">
                            <label for="zddm">地籍号</label>
                            <input type="text" class="form-control"  id="djhselect" >
                        </div>
                        <div class="zdxx form-group col-md-6">
                            <label for="zddm">权利人</label>
                            <input type="text" class="form-control"  id="qlrselect" >
                        </div>
                        <div class="zdxx form-group col-md-6">
                            <label for="zddm">权证号</label>
                            <input type="text" class="form-control"  id="qzhselect" >
                        </div>
                        <div class="zdxx form-group col-md-12">
                            <label for="zddm">宗地坐落</label>
                            <input type="text" class="form-control"  id="zdzlselect" >
                        </div>
                        <div class="zdxx form-group col-md-6">
                            <button class="btn btn-success" id="selectzdxx">查询</button>
                            <button class="btn btn-danger" id="clearzdxx">清空</button>
                        </div>

                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-12">
                        <hr>
                        <h3 style="float: left">宗地基本信息</h3>
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="zddm">宗地代码</label>
                        <input type="text" class="form-control" name="zddm" id="zddm" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="bdcdyh">不动产单元号</label>
                        <input type="text" class="form-control" name="bdcdyh" id="bdcdyh" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="zdtzm">宗地特征码</label>
                        <input type="text" class="form-control" name="zdtzm" id="zdtzm" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="zl">坐落</label>
                        <input type="text" class="form-control" name="zl" id="zl" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="zdmj">宗地面积</label>
                        <input type="text" class="form-control" name="zdmj" id="zdmj" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="mjdw">面积单位</label>
                        <select  getselect="mjdw" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase" name="mjdw" id="mjdw" ></select>
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="yt">用途</label>
                        <input type="text" class="form-control" name="yt" id="yt" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="dj">等级</label>
                        <input type="text" class="form-control" name="dj" id="dj" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="jg">价格</label>
                        <input type="text" class="form-control" name="jg" id="jg" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label  for="qllx">权利类型</label>
                        <select getselect="qllx" id="qllx" name="qllx" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                        </select>
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="qlxz">权利性质</label>
                        <select getselect="qlxz" id="qlxz" name="qlxz" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                        </select>
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="qlsdfs">权利设定方式</label>
                        <select getselect="qlsdfs" id="qlsdfs" name="qlsdfs" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                        </select>
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="rjl">容积率</label>
                        <input type="text" class="form-control" name="rjl" id="rjl" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="jzmd">建筑密度</label>
                        <input type="text" class="form-control" name="jzmd" id="jzmd" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="jzxg">建筑限高</label>
                        <input type="text" class="form-control" name="jzxg" id="jzxg" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="zdszd">宗地四至-东</label>
                        <input type="text" class="form-control" name="zdszd" id="zdszd" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="zdszn">宗地四至-南</label>
                        <input type="text" class="form-control" name="zdszn" id="zdszn" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="zdszx">宗地四至-西</label>
                        <input type="text" class="form-control" name="zdszx" id="zdszx" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="zdszb">宗地四至-北</label>
                        <input type="text" class="form-control" name="zdszb" id="zdszb" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="zdt">宗地图</label>
                        <input type="text" class="form-control" name="zdt" id="zdt" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="tfh">图幅号</label>
                        <input type="text" class="form-control" name="tfh" id="tfh" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="djh">地籍号</label>
                        <input type="text" class="form-control" name="djh" id="djh" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="bz">备注</label>
                        <input type="text" class="form-control" name="bz" id="bz" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="zt">状态</label>
                        <select getselect="qszt" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase" name="zt" id="zt" ></select>
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="cqzt">产权状态</label>
                        <input type="text" class="form-control" name="cqzt" id="cqzt" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="gmjjhyfldm">国民经济行业分类代码</label>
                        <input type="text" class="form-control" name="gmjjhyfldm" id="gmjjhyfldm" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="tdqslyzmcl">土地权属来源证明材料</label>
                        <input type="text" class="form-control" name="tdqslyzmcl" id="tdqslyzmcl" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="cljs">地籍测量记事</label>
                        <input type="text" class="form-control" name="cljs" id="cljs" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="shyj">地籍调查结果审核意见</label>
                        <input type="text" class="form-control" name="shyj" id="shyj" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="shr">审核人</label>
                        <input type="text" class="form-control" name="shr" id="shr" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="shrq">审核日期</label>
                        <input type="date" class="form-control" name="shrq" id="shrq" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="jzzdmj">建筑占地面积</label>
                        <input type="text" class="form-control" name="jzzdmj" id="jzzdmj" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="jzmj">建筑面积</label>
                        <input type="text" class="form-control" name="jzmj" id="jzmj" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="syqlx">所有权类型</label>
                        <select getselect="syqlx" id="syqlx" name="syqlx" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                        </select>
                             </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="pzyt">批准用途</label>
                        <input type="text" class="form-control" name="pzyt" id="pzyt" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="pzmj">批准面积</label>
                        <input type="text" class="form-control" name="pzmj" id="pzmj" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="jzxzxsm">权属界线走向说明</label>
                        <input type="text" class="form-control" name="jzxzxsm" id="jzxzxsm" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="dcjs">权属调查记事</label>
                        <input type="text" class="form-control" name="dcjs" id="dcjs" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="dcr">调查人</label>
                        <input type="text" class="form-control" name="dcr" id="dcr" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="dcrq">调查日期</label>
                        <input type="date" class="form-control" name="dcrq" id="dcrq" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="blc">比例尺</label>
                        <input type="text" class="form-control" name="blc" id="blc" >
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="clr">测量人</label>
                        <input type="text" class="form-control" name="clr" id="clr" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="clrq">测量日期</label>
                        <input type="date" class="form-control" name="clrq" id="clrq" >
                    </div>
                    <div class="zdxx form-group col-md-12">
                        <label for="jzdwsm">界址点位说明</label>
                        <input type="text" class="form-control" name="jzdwsm" id="jzdwsm" >
                    </div>
                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="qxmc">区县名称</label>
                        <select inputId="qxdm" getselect="xzq" class="changeOtherInput form-control getSelectFromOther custom-select custom-select-lg mb-3 fromDatabase" name="qxmc" id="qxmc" >
                        </select>
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="qxdm">区县代码</label>
                        <input type="text" class="form-control" name="qxdm" id="qxdm" >

                    </div>

                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="djqmc">地籍区名称</label>
                        <select inputId="djqdm" getselect="djq"  class="changeOtherInput form-control getSelectFromOther custom-select custom-select-lg mb-3 fromDatabase" name="djqmc" id="djqmc" >
                        </select>
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="djqdm">地籍区代码</label>
                        <input type="text" class="form-control" name="djqdm" id="djqdm" >
                    </div>

                </div>

                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="djzqmc">地籍子区名称</label>
                        <select inputId="djzqdm" getselect="djzq" class="changeOtherInput form-control getSelectFromOther custom-select custom-select-lg mb-3 fromDatabase" name="djzqmc" id="djzqmc" >
                        </select>
                    </div>
                    <div class="zdxx form-group col-md-6">
                        <label for="djzqdm">地籍子区代码</label>
                        <input type="text" class="form-control" name="djzqdm" id="djzqdm" >
                    </div>

                </div>
                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-6">
                        <label for="ybzddm">预编宗地代码</label>
                        <input type="text" class="form-control" name="ybzddm" id="ybzddm" >
                    </div>

                </div>

                <div id="originTdxxForm" class="tdxxForm">


                <div class="from-row zdxx">
                    <div class="zdxx form-group col-md-12">
                        <hr>
                        <h3 style="float: left">土地用途信息</h3>
                    </div>
                </div>
                    <div class="from-row tdytxx zdxx">
                        <div class="tdytxx form-group col-md-6">
                            <label for="tdytmc">土地用途名称</label>
                            <select inputId="tdyt"  getselect="tdyt" class="changeOtherInput form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase" name="tdytmc" id="tdytmc" >
                            </select>
                        </div>
                        <div class="tdytxx form-group col-md-6">
                            <label for="tdyt">土地用途</label>
                            <input  id="tdyt" name="tdyt" class="form-control">
                        </div>

                    </div>
                <div class="from-row tdytxx zdxx">
                    <!--<div  class="tdytxx form-group col-md-6">-->
                        <!--<label for="zdbsm">宗地标识码</label>-->
                        <!--<input type="text" class="form-control" name="zdbsm" id="zdbsm" >-->
                    <!--</div>-->
                    <div class="tdytxx form-group col-md-6">
                        <label for="sfzyt">是否主用途</label>
                        <select getselect="sfzd" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase" name="sfzyt" id="sfzyt" ></select>
                    </div>
                </div>

                <div class="from-row tdytxx zdxx">
                    <div class="tdytxx form-group col-md-6">
                        <label for="tdjg">土地价格</label>
                        <input type="text" class="form-control" name="tdjg" id="tdjg" >
                    </div>
                    <div class="tdytxx form-group col-md-6">
                        <label for="tddj">土地等级</label>
                        <select getselect="tddj" id="tddj" name="tddj" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                        </select>
                    </div>
                </div>
                <div class="from-row tdytxx zdxx">
                    <div class="tdytxx form-group col-md-6">
                        <label for="qsrq">使用权起始时间</label>
                        <input type="date" class="form-control" name="qsrq" id="qsrq" >
                    </div>
                    <div class="tdytxx form-group col-md-6">
                        <label for="zzrq">使用权终止日期</label>
                        <input type="date" class="form-control" name="zzrq" id="zzrq" >
                    </div>
                </div>
                <div class="from-row tdytxx zdxx">
                    <div class="tdytxx form-group col-md-6">
                        <label for="syqx">使用期限</label>
                        <input type="text" class="form-control" name="syqx" id="syqx" >
                    </div>
                    <div class="tdytxx form-group col-md-6">
                        <label for="blzt">补录状态</label>
                        <input type="text" class="form-control" name="blzt" id="blzt" >
                    </div>
                </div>
                <div class="from-row tdytxx zdxx">
                    <div class="tdytxx form-group col-md-6">
                        <label for="zdmj">宗地面积</label>
                        <input type="text" class="form-control" name="zdmj" id="zdmj" >
                    </div>
                    <div class="tdytxx form-group col-md-6">
                        <label for="qlxz">权利性质</label>
                        <select getselect="qlxz" id="qlxz" name="qlxz" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                        </select>
                    </div>
                </div>
                </div>

                <div id="addTdxx" class="from-row zdxx tdytxx">
                    <div class="zdxx tdytxx form-group col-md-6">
                       <button style="margin-left: 200px" id="addTdxxBtn" class="btn btn-success">新增</button>
                    </div>
                </div>






                


                <!--权利人信息表单-->

                <div style="height: 200px" class="from-row qlrxx pre-scrollable">
                    <table class="qlrxx table table-hover">
                        <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">档案编号</th>
                            <th scope="col">不动产权证号</th>
                            <th scope="col">权利人</th>

                            <!--<th scope="col">封皮页数</th>-->
                        </tr>
                        </thead>
                        <tbody id="qlrxxAndSyqTable">

                        </tbody>
                    </table>
                </div>
                <div id="showQlrxxAndSyqForm">
                <div id="showQlrxxForm" class="qlrxxForm">

                    <input type="hidden" class="bsm form-control" name="bsm" id="bsm" >
                    <div class="from-row qlrxx">
                        <div class="daxx form-group col-md-10">
                            <hr>
                            <button index="" id="saveQlrAndSyqxxBtn" class="btn btn-success">保存此权利人和使用权信息</button>
                            <!--<button id="deleteQlrAndSyqxxBtn" class="btn btn-danger">删除此档案信息</button>-->
                        </div>
                        <div class="zdxx form-group col-md-12">
                            <h3 style="float: left">权利人信息</h3>
                        </div>

                    </div>
                <!--<div class="from-row qlrxx">-->
                    <!--<div class="qlrxx form-group col-md-6">-->
                        <!--<label for="qlbsm">权利标识码</label>-->
                        <!--<input type="text" class="form-control" name="qlbsm" id="qlbsm" >-->
                    <!--</div>-->
                    <!--<div class="qlrxx form-group col-md-6">-->
                        <!--<label for="bdcdyh">不动产单元号</label>-->
                        <!--<input type="text" class="form-control" name="bdcdyh" id="bdcdyh" >-->
                    <!--</div>-->
                <!--</div>-->
                <div class="from-row qlrxx">
                    <!--<div class="qlrxx form-group col-md-6">-->
                        <!--<label for="sxh">顺序号</label>-->
                        <!--<input type="text" class="form-control" name="sxh" id="sxh" >-->
                    <!--</div>-->
                    <div class="qlrxx form-group col-md-3">
                        <label for="qlrmc">权利人名称</label>
                        <input type="text" class="qlrmc form-control" name="qlrmc" id="qlrmc" >
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-4">
                        <label for="bdcqzh">不动产权证号</label>
                        <input type="text" class="form-control" name="bdcqzh" id="bdcqzh" >
                    </div>
                    <div class="qlrxx form-group col-md-4">
                        <label for="qzysxlh">权证印刷序列号</label>
                        <input type="text" class="form-control" name="qzysxlh" id="qzysxlh" >
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-2">
                        <label for="sfczr">是否持证人</label>
                        <select getselect="sfzd" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase" name="sfczr" id="sfczr" ></select>
                    </div>
                    <div class="qlrxx form-group col-md-3">
                        <label for="zjzl">证件种类</label>
                        <select getselect="zjlx" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase" name="zjzl" id="zjzl" >

                        </select>
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-4">
                        <label for="zjh">证件号</label>
                        <input type="text" class="form-control" name="zjh" id="zjh" >
                    </div>
                    <div class="qlrxx form-group col-md-3">
                        <label for="gj">国家/地区</label>
                        <select getselect="gjdq" id="gj" name="gj" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                        </select>
                    </div>

                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-3">
                        <label for="sshy">所属行业</label>
                        <select getselect="sshy" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase" name="sshy" id="sshy" >
                        </select>
                    </div>
                    <div class="qlrxx form-group col-md-4">
                        <label for="fzjg">发证机关</label>
                        <input type="text" class="form-control" name="fzjg" id="fzjg" >
                    </div>

                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-3">
                        <label for="hjszss">户籍所在省市</label>
                        <select getselect="ss" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase" name="hjszss" id="hjszss" >
                        </select>
                    </div>
                    <div class="qlrxx form-group col-md-2">
                            <label for="xb">性别</label>
                            <select getselect="xb"  id="xb" name="xb" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">

                            </select>

                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-3">
                        <label for="dh">电话</label>
                        <input type="tel" class="form-control" name="dh" id="dh" >
                    </div>
                    <div class="qlrxx form-group col-md-6">
                        <label for="dz">地址</label>
                        <input type="text" class="form-control" name="dz" id="dz" >
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-2">
                        <label for="yb">邮编</label>
                        <input type="text" class="form-control" name="yb" id="yb" >
                    </div>
                    <div class="qlrxx form-group col-md-6">
                        <label for="gzdw">工作单位</label>
                        <input type="text" class="form-control" name="gzdw" id="gzdw" >
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-3">
                        <label for="dzyj">电子邮件</label>
                        <input type="email" class="form-control" name="dzyj" id="dzyj" >
                    </div>
                    <div class="qlrxx form-group col-md-3">
                        <label for="qlrlx">权利人类型</label>
                        <select getselect="qlrlx" id="qlrlx" name="qlrlx" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                        </select>
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-3">
                        <label for="qlbl">权利比例</label>
                        <input type="text" class="form-control" name="qlbl" id="qlbl" >
                    </div>
                    <div class="qlrxx form-group col-md-3">
                        <label for="gyfs">共有方式</label>
                        <select getselect="gyfs" id="gyfs" name="gyfs" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                        </select>
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-6">
                        <label for="bz">备注</label>
                        <input type="text" class="form-control" name="bz" id="bz" >
                    </div>
                    <div class="qlrxx form-group col-md-2">
                        <label for="dlrxm">代理人姓名</label>
                        <input type="text" class="form-control" name="dlrxm" id="dlrxm" >
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-3">
                        <label for="dlrlxdh">代理人联系电话</label>
                        <input type="tel" class="form-control" name="dlrlxdh" id="dlrlxdh" >
                    </div>
                    <div class="qlrxx form-group col-md-3">
                        <label for="dlrzjlx">代理人证件类型</label>
                        <select getselect="zjlx" id="dlrzjlx" name="dlrzjlx" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                        </select>
                    </div>

                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-4">
                        <label for="dlrzjhm">代理人证件号码</label>
                        <input type="text" class="form-control" name="dlrzjhm" id="dlrzjhm" >
                    </div>
                    <div class="qlrxx form-group col-md-4">
                        <label for="dljgmc">代理机构名称</label>
                        <input type="text" class="form-control" name="dljgmc" id="dljgmc" >
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-3">
                        <label for="qlmj">权利面积</label>
                        <input type="text" class="form-control" name="qlmj" id="qlmj" >
                    </div>
                    <div class="qlrxx form-group col-md-2">
                        <label for="fddbr">法定代表人</label>
                        <input type="text" class="form-control" name="fddbr" id="fddbr" >
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-3">
                        <label for="fddbrdh">法定代表人电话号码</label>
                        <input type="text" class="form-control" name="fddbrdh" id="fddbrdh" >
                    </div>
                    <div class="qlrxx form-group col-md-3">
                        <label for="fddbrzjlx">法定代表人证件类型</label>
                        <select  getselect="zjlx" id="fddbrzjlx" name="fddbrzjlx" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                        </select>
                    </div>

                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-4">
                        <label for="fddbrzjhm">法定代表人证件号码</label>
                        <input type="text"  class="form-control" name="fddbrzjhm" id="fddbrzjhm" >
                    </div>
                    <div class="qlrxx form-group col-md-4">
                        <label for="sqrid">申请人ID</label>
                        <input type="text" class="form-control" name="sqrid" id="sqrid" >
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-4">
                        <label for="fczh">房产证号</label>
                        <input type="text" class="form-control" name="fczh" id="fczh" >
                    </div>
                    <div class="qlrxx form-group col-md-3">
                        <label for="ytdsyqr">原土地使用权人</label>
                        <input type="text" class="form-control" name="ytdsyqr" id="ytdsyqr" >
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-3">
                        <label for="ybdcqzh">原土地使用证</label>
                        <input type="text" class="form-control" name="ybdcqzh" id="ybdcqzh" >
                    </div>
                    <div class="qlrxx form-group col-md-3">
                        <label for="ftxz">分摊小证</label>
                        <select getselect="sfzd" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase" name="ftxz" id="ftxz" ></select>
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-6">
                        <label for="fczzl">房产证坐落</label>
                        <input type="text" class="form-control" name="fczzl" id="fczzl" >
                    </div>
                    <div class="qlrxx form-group col-md-6">
                        <label for="xtdzzl">小土地证坐落</label>
                        <input type="text" class="form-control" name="xtdzzl" id="xtdzzl" >
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-3">
                        <label for="xtdczfs">小土地持证方式</label>
                        <select getselect="czfs" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase" name="xtdczfs" id="xtdczfs" >
                        </select>
                    </div>
                    <div class="qlrxx form-group col-md-3">
                        <label for="xtdqlxz">小土地权利性质</label>
                        <select getselect="qlxz" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase" name="xtdqlxz" id="xtdqlxz" >
                        </select>
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-3">
                        <label for="xtdtdyt">小土地土地用途</label>
                        <select getselect="tdyt"  class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase" name="xtdtdyt" id="xtdtdyt" >
                        </select>
                    </div>
                    <div class="qlrxx form-group col-md-3">
                        <label for="xtdsyqx">小土地使用期限</label>
                        <input type="text" class="form-control" name="xtdsyqx" id="xtdsyqx" >
                    </div>
                </div>
                <div class="from-row qlrxx">
                    <div class="qlrxx form-group col-md-3">
                        <label for="xtdqlqssj">小土地权利起始时间</label>
                        <input type="date" class="form-control" name="xtdqlqssj" id="xtdqlqssj" >
                    </div>
                    <div class="qlrxx form-group col-md-3">
                        <label for="xtdqljssj">小土地权利结束时间</label>
                        <input type="date" class="form-control" name="xtdqljssj" id="xtdqljssj" >
                    </div>
                </div>
                </div>
                <!--使用权信息表单-->
                <!--<div class="from-row syqxx qlrxx">-->
                <!--<div class="xyqxx form-group col-md-6">-->
                <!--<label for="zddm">宗地代码</label>-->
                <!--<input type="text" class="form-control" name="zddm" id="zddm" >-->
                <!--</div>-->
                <!--<div class="xyqxx form-group col-md-6">-->
                <!--<label for="bdcdybsm">单元标识码</label>-->
                <!--<input type="text" class="form-control" name="bdcdybsm" id="bdcdybsm" >-->
                <!--</div>-->
                <!--</div>-->
                <div id="showSyqxxForm" class="syqxxForm from-row syqxx qlrxx">
                    <input type="hidden" class="form-control" name="bsm" id="bsm" >
                    <div class="from-row syqxx qlrxx">
                        <div class="zdxx form-group col-md-12">
                            <hr>
                            <h3 style="float: left">使用权信息</h3>
                        </div>
                    </div>
                    <div class="from-row syqxx qlrxx">
                        <!--<div class="xyqxx form-group col-md-6">-->
                        <!--<label for="bdcdyh">不动产单元号</label>-->
                        <!--<input type="text" class="form-control" name="bdcdyh" id="bdcdyh" >-->
                        <!--</div>-->
                        <div class="xyqxx form-group col-md-6">
                            <label for="ywh">受理编号</label>
                            <input type="text" class="form-control" name="ywh" id="ywh" >
                        </div>
                    </div>
                    <div class="from-row syqxx qlrxx">
                        <!--<div class="xyqxx form-group col-md-6">-->
                        <!--<label for="qllx">权利类型</label>-->
                        <!--<select id="qllx" name="qllx" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">-->
                        <!--</select>-->
                        <!--</div>-->
                        <div class="xyqxx form-group col-md-3">
                            <label for="djlx">登记类型</label>
                            <select getselect="djlx"id="djlx" name="djlx" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                            </select>
                        </div>
                        <div class="xyqxx form-group col-md-3">
                            <label for="syqmj">使用权面积</label>
                            <input type="text" class="form-control" name="syqmj" id="syqmj" >
                        </div>
                    </div>
                    <div class="from-row syqxx qlrxx">
                        <div class="xyqxx form-group col-md-6">
                            <label for="djyy">登记原因</label>
                            <input type="text" class="form-control" name="djyy" id="djyy" >
                        </div>

                    </div>
                    <div class="from-row syqxx qlrxx">
                        <div class="xyqxx form-group col-md-3">
                            <label for="syqqssj">使用权起始时间</label>
                            <input type="date" class="form-control" name="syqqssj" id="syqqssj" >
                        </div>
                        <div class="xyqxx form-group col-md-3">
                            <label for="syqjssj">使用权结束时间</label>
                            <input type="date" class="form-control" name="syqjssj" id="syqjssj" >
                        </div>
                    </div>
                    <div class="from-row syqxx qlrxx">
                        <div class="xyqxx form-group col-md-2">
                            <label for="qdjg">取得价格</label>
                            <input type="text" class="form-control" name="qdjg" id="qdjg" >
                        </div>
                        <div class="xyqxx form-group col-md-4">
                            <label for="bdcqzh">不动产权证号</label>
                            <input type="text" class="form-control" name="bdcqzh" id="bdcqzh" >
                        </div>
                    </div>
                    <div class="from-row syqxx qlrxx">
                        <!--<div class="xyqxx form-group col-md-6">-->
                        <!--<label for="qxdm">区县代码</label>-->
                        <!--<input type="text" class="form-control" name="qxdm" id="qxdm" >-->
                        <!--</div>-->
                        <div class="xyqxx form-group col-md-3">
                            <label for="djjg">登记机构</label>
                            <input type="text" class="form-control" name="djjg" id="djjg" >
                        </div>
                    </div>
                    <div class="from-row syqxx qlrxx">
                        <div class="xyqxx form-group col-md-3">
                            <label for="dbr">登簿人</label>
                            <input type="text" class="form-control" name="dbr" id="dbr" >
                        </div>
                        <div class="xyqxx form-group col-md-3">
                            <label for="djsj">登记时间</label>
                            <input type="date" class="form-control" name="djsj" id="djsj" >
                        </div>
                    </div>
                    <div class="from-row syqxx qlrxx">

                        <div class="xyqxx form-group col-md-2">
                            <label for="qszt">权属状态</label>
                            <select getselect="bdcdyzt" id="qszt" name="qszt" class="form-control getSelectFromConst custom-select custom-select-lg mb-3 fromDatabase">
                            </select>
                        </div>
                    </div>
                    <div class="from-row syqxx qlrxx">
                        <div class="xyqxx form-group col-md-4">
                            <label for="zxywh">注销业务号</label>
                            <input type="text" class="form-control" name="zxywh" id="zxywh" >
                        </div>
                        <div class="xyqxx form-group col-md-3">
                            <label for="zxsj">注销时间</label>
                            <input type="date" class="form-control" name="zxsj" id="zxsj" >
                        </div>
                    </div>
                    <div class="from-row syqxx qlrxx">
                        <div class="xyqxx form-group col-md-12">
                            <label for="fj">附记</label>
                            <input type="text" class="form-control" name="fj" id="fj" >
                        </div>
                        <div class="xyqxx form-group col-md-12">
                            <label for="zxyy">注销原因</label>
                            <input type="text" class="form-control" name="zxyy" id="zxyy" >
                        </div>
                    </div>
                </div>
            </div>
                <div class="from-row qlrxx syqxx">
                    <!--<div class="daxx form-group col-md-12">-->
                        <!--<button index="" id="saveQlrAndSyqxxBtn1" class="btn btn-success">保存此权利人和使用权信息</button>-->
                        <!--&lt;!&ndash;<button id="deleteQlrAndSyqxxBtn" class="btn btn-danger">删除此档案信息</button>&ndash;&gt;-->
                    <!--</div>-->
                </div>
                <!--档案信息-->
                <div style="height: 200px" class="from-row daxx pre-scrollable">
                    <table class="daxx table table-hover">
                        <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">档案编号</th>
                            <th scope="col">档案类型编号</th>
                            <th scope="col">保管期限</th>
                            <th scope="col">封皮页数</th>
                        </tr>
                        </thead>
                        <tbody id="daxxTable">

                        </tbody>
                    </table>
                </div>

                <div id="showDaxxForm">
                    <div class="from-row daxx">
                        <div class="daxx form-group col-md-6">
                            <label for="dabh">档案编号</label>
                            <input readonly type="text" class="form-control" name="dabh" id="dabh" >
                        </div>
                        <div class="daxx form-group col-md-6">
                            <label for="dalx">档案类型</label>
                            <input readonly type="text" class="form-control" name="dalx" id="dalx" >
                        </div>
                    </div>


                    <div class="from-row daxx">
                        <div class="daxx form-group col-md-6">
                            <label for="dalxbh">档案类型编号</label>
                            <input readonly type="text" class="form-control" name="dalxbh" id="dalxbh" >
                        </div>

                        <div class="daxx form-group col-md-6">
                            <label for="bgqx">保管期限</label>
                            <input readonly type="text" class="form-control" name="bgqx" id="bgqx" >
                        </div>
                    </div>
                    <div class="from-row daxx">
                        <div class="daxx form-group col-md-6">
                            <label for="fpys">封皮页数</label>
                            <input readonly type="text" class="form-control" name="fpys" id="fpys" >
                        </div>
                        <div class="daxx form-group col-md-6">
                            <label for="zxsj">注销日期</label>
                            <input type="date" class="form-control" name="zxsj" id="zxsj" >
                        </div>
                    </div>
                    <div class="from-row daxx">
                        <div class="daxx form-group col-md-12">
                            <!--<button  id="addDaxxBtn" class="btn btn-warning">新增档案信息</button>-->
                            <button index="" id="saveDaxxBtn" class="btn btn-success">保存此档案信息</button>
                            <button id="deleteDaxxBtn" class="btn btn-danger">删除此档案信息</button>
                        </div>
                    </div>
                </div>

                <input type="hidden" name="path" id="path">
            </form>
            </form>
        </div>
        <HR>
        <div style="height: 30%">
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                <label show=".zdxx" id="showZDXX" class="showForm btn btn-secondary">
                    <input type="radio" name="options" id="option1" autocomplete="off"> 宗地信息
                </label>
                <!--<label show=".syqxx" id="showSYQXX" class="showForm btn btn-secondary">-->
                    <!--<input type="radio" name="options" id="option2" autocomplete="off"> 使用权信息-->
                <!--</label>-->
                <label show=".daxx" id="showDAXX" class="showForm btn btn-secondary">
                    <input type="radio" name="options" id="option5" autocomplete="off"> 档案信息
                </label>
                <label show=".qlrxx" id="showQLRXX" class="showForm btn btn-secondary">
                    <input type="radio" name="options" id="option4" autocomplete="off"> 权利人信息
                </label>

            </div>
            <button id="submitForm" style="margin-left: 100px" type="button" class="btn btn-primary">提交表单</button>
            <button id="clearForm" style="margin-left: 100px" type="button" class="btn btn-danger">清空表单</button>
        </div>
    </div>


<script src="http://www.jq22.com/jquery/2.1.1/jquery.min.js"></script>
<script src="js/bootstrap-treeview.js"></script>

<script type="text/javascript" src="js/bootstrap-datetimepicker.js" charset="UTF-8"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js//bootstrap-datetimepicker.zh-CN.js" charset="UTF-8"></script>
<script type="text/javascript" th:inline="javascript">
window.onload = function (ev) {

    var selectsFromConst = $(".getSelectFromConst");
    var selectsFromOther = $(".getSelectFromOther")
    var initSelect = function () {
        var selectsFromConstNameList = [];
       for (var i = 0;i<selectsFromConst.length;i++){
           selectsFromConstNameList.push(selectsFromConst.eq(i).attr("getselect"))
       }
        var selectsFromOtherNameList = [];
        for (var i = 0;i<selectsFromOther.length;i++){
            selectsFromOtherNameList.push(selectsFromOther.eq(i).attr("getselect"))
        }
        $.ajax({
            url: 'getSelect',
            type: 'get', //
            async: true,    //或false,是否异步
            data:'selectsFromConstNameList='+ selectsFromConstNameList+'&selectsFromOtherNameList='+selectsFromOtherNameList,
            timeout: 5000,    //超时时间
            dataType: 'json',    //返回的数据格式：json/xml/html/script/jsonp/text
            success: function (data) {
                for (var i = 0;i<selectsFromConst.length;i++){
                   var getselect =  selectsFromConst.eq(i).attr("getselect");
                  var constList = data['selectsFromConst'][getselect];
                    var constListString = "";
                  if (getselect!="gjdq")
                  constListString="<option style='display: none'></option>";

                  for (var j = 0;j<constList.length;j++){
                      constListString+="<option inputValue='"+constList[j].constValue+"' value="+constList[j].constValue+">"+constList[j].consttrans+"</option>";
                  }
                    selectsFromConst.eq(i).append(constListString);
                }

                for (var i = 0;i<selectsFromOther.length;i++){
                    var getselect = selectsFromOther.eq(i).attr("getselect");
                    var otherList = data['selectsFromOther'][getselect];
                    var otherListString = "<option style='display: none'></option>"

                    for (var j = 0;j<otherList.length;j++){
                        otherListString+="<option  inputValue="+otherList[j].dm+"  value="+otherList[j].mc+">"+otherList[j].mc+"</option>";
                    }
                    selectsFromOther.eq(i).append(otherListString);

                }
            },
            error: function (data) {
                alert("操作失败")
            }
        })
    }
    var qlrs;
    var fwzl;
    var tdzh;
    var zddm;
    var zdtzm;
    var isFromDB;
    var qlrAndSyqFromDB;
    var zdjbxxFromDB;
    var zdjbxxSelect;
    var unclick = function(o){
        o.css("background-color","")
    }
    var initFolder = function(data){
        return $("#folder").treeview({

            data:data,
            color:"#428bca",
            levels:1,
            showTags:true,
            onNodeSelected:function(event,node){

                isFromDB = 0;
                var flag = 0;
                if (node.nodes==null){
                    var ajh = node.text;
                    var daTrs = $("#daxxTable tr");
                    daTrs.css("background-color","")
                    for (var i=0;i<daTrs.length;i++){
                        if (daTrs.eq(i).find("td").eq(0).html()==ajh){
                            daTrs.eq(i).click()

                            flag=1;
                            break;
                        }
                    }
                    if (flag==0)
                        $("#saveDaxxBtn").attr("index","")


                    $.ajax({
                        url: 'getJpgList',
                        type: 'GET', //
                        async: true,    //或false,是否异步
                        data: {
                            path:node.path,
                            AJH:ajh
                        },
                        timeout: 5000,    //超时时间
                        dataType: 'json',    //返回的数据格式：json/xml/html/script/jsonp/text
                        success: function (data) {
                            var daxxForms = $("#showDaxxForm").find(".form-control")
                            if (data['error']!=null){
                                alert(data['error'])
                                return
                            }
                            initJpgList(data['jpgs'])
                            if (flag==1)
                                return
                            if ((isFromDB=data['flag'])==1){
                                for (var i=0;i<daxxForms.length;i++){
                                    var n = daxxForms.eq(i).attr("id")
                                    if (n!=null){
                                        // alert(data['excelData'][n])
                                        daxxForms.eq(i).val(data['txm'][n])
                                    }
                                }
                                qlrAndSyqFromDB = data['txm']['qlrAndSyqs'];
                                zdjbxxFromDB = data['txm']['zdjbxx'];
                                if (zdjbxxFromDB!=null){
                                    zdtzm = zdjbxxFromDB.zdtzm
                                    zddm = zdjbxxFromDB.zddm;
                                }
                                return
                            }
                            qlrs=data['excelData'].qlr;
                            fwzl=data['excelData'].fwzl;
                            tdzh=data['excelData'].tdzh;
                            zddm=data['excelData'].zddm;
                            zdtzm=data['excelData'].zdtzm;
                            daxxForms.val("");
                                for (var i=0;i<daxxForms.length;i++){
                                    var n = daxxForms.eq(i).attr("id")
                                    if (n!=null){
                                        // alert(data['excelData'][n])
                                        daxxForms.eq(i).val(data['excelData'][n])
                                    }
                                }
                            $("#path").val(node.path)
                        },
                    })
                }
            },
            onNodeUnselected:function(event,node){
                // if (node.nodes==null){
                //     $.ajax({
                //         url: '/deleteAJHInCache',
                //         type: 'POST', //
                //         async: true,    //或false,是否异步
                //         data: {
                //             AJH:node.text
                //         },
                //         timeout: 5000,    //超时时间
                //         dataType: 'json',    //返回的数据格式：json/xml/html/script/jsonp/text
                //         success: function (data) {
                //         },
                //     })
                // }
            },
        });
    }

    var rollImg =  function rollImg(obj){


        var zoom = parseInt(obj.style.zoom,10)||100;

        zoom += event.wheelDelta / 12;
        if(zoom > 100 )
            obj.style.zoom=zoom+'%';
        return false;

    }

    $(document).on('mousewheel', '#showJpg', function () {

        rollImg(this)
    })
    $(document).on('click', '#selectzdxx', function () {
        var zddm = $("#zddmselect").val();
        var djh = $("#djhselect").val();
        var qlr = $("#qlrselect").val();
        var qzh = $("#qzhselect").val();
        var zdzl = $("#zdzlselect").val();
        $(".zdxxtr").remove();
        zdjbxxSelect=null;
        $.ajax({
            url: 'selectZdxx',
            type: 'get', //
            async: true,    //或false,是否异步
            data:"zddm="+zddm+"&djh="+djh+"&qlr="+qlr+"&qzh="+qzh+"&zdzl="+zdzl,
            timeout: 5000,    //超时时间
            dataType: 'json',    //返回的数据格式：json/xml/html/script/jsonp/text
            success: function (data) {
                zdjbxxSelect = data;
                var zdjbxx = $("#zdxxTable")
                for (var i = 0;i<data.length;i++){
                    var trId = "zdxxTr"+i
                    zdjbxx.append("<tr class='zdxxtr' id="+trId+" index="+i+">\n" +
                        "                            <th scope=\"row\">#</th>\n" +
                        "                            <td name='zddm'>"+data[i].zddm+"</td>\n" +
                        "                            <td name='djh'>"+data[i].djh+"</td>\n" +
                        "                            <td name='zl'>"+data[i].zl+"</td>\n" +
                        "                        </tr>")
                }


            }
        })
        return false
    })
    $(document).on('click', '.zdxxtr', function () {
        $(".zdxxtr").css("background-color","")
        $(this).css("background-color","#428bca")
        var index = $(this).attr("index")
        var zdxxInputs = $(".zdxx .form-control");
        var thisZdjbxx = zdjbxxSelect[index]
        for (var z = 0;z<zdxxInputs.length;z++){
            var name = zdxxInputs.eq(z).attr("id");
            var s = "thisZdjbxx."+name;
            zdxxInputs.eq(z).val(eval(s));
        }
    })
    $(document).on('click', '#clearzdxx', function () {
        $("#selectZdjbxxForm .from-row").val("")
        $(".zdxxtr").remove();
        zdjbxxSelect=null;
    })
    $(document).on('mousewheel', '#divShowJpg', function () {
        return false
    })

    var initJpgList = function(data){
        return $("#jpg").treeview({
            data:data,
            color:"#428bca",
            levels:1,
            showTags:true,
            onNodeSelected:function(event,node){
                $("#showJpg").attr("src","/img/"+node.path);
            },
            onNodeUnselected:function(event,node){
                console.log("取消了");
            }
        });
    }
    initFolder([[${data}]])
    initSelect()

    var tdxxIndex=0;
    var qlrxxIndex=0;
    $(".from-row").hide();
    $(".zdxx").show();

    $(document).on('click', '#clearForm', function () {
       var inputs = $(".form-control");
       inputs.val("")
        $(".zdxxtr").remove();
        $(".daxxTr").remove()
        $(".qlrxxAndSyqTr").remove();
       return false

    })
    $(document).on('change', '.changeOtherInput', function () {

        var inputValue = $(this).find("option:selected").attr("inputValue")
        var inputId = $(this).attr("inputId");
        $("#"+inputId).val(inputValue)

    })
    var daxxIndex=0;
    $(document).on('click', '#addDaxxBtn', function () {
        var daxxTable = $("#daxxTable")
        var trId = "daxxTrIndex"+(++daxxIndex);
        daxxTable.append("<tr class='daxxTr' id="+trId+" index="+daxxIndex+">\n" +
            "                            <th scope=\"row\">#</th>\n" +
            "                            <td name='dabh'></td>\n" +
            "                            <td name='dalxbh'></td>\n" +
            "                            <td name='bgqx'></td>\n" +
            "                            <td name='fpys'></td>\n" +
            "                        </tr>")

        $("#"+trId).click();
        var formId = "daxxFormIndex"+daxxIndex;
        var inputForm = $("#showDaxxForm").html();
        $("#path").before("<div style='display: none' class='daxxForm' id="+formId+"> " +inputForm+

            "</div>")


        $("#showQlrxxAndSyqForm").find(".form-control").val("")
        $("#saveQlrAndSyqxxBtn").attr("index","")
        return false
    })
    $(document).on('click', '.daxxTr', function () {

        $(".daxxTr").css("background-color","")
        $(this).css("background-color","#428bca")
        var daxxIndex = $(this).attr("index")
        var showDaxxFormInputs = $("#showDaxxForm").find(".form-control")
        var nowDaxxFormInputs = $("#daxxFormIndex"+daxxIndex).find(".form-control")
        for(var i=0;i<showDaxxFormInputs.length;i++){
           showDaxxFormInputs.eq(i).val(nowDaxxFormInputs.eq(i).val())
        }
        $("#saveDaxxBtn").attr("index",daxxIndex);
        var thisDabh = $(this).find("td").eq(0).html()
        var trs = $("#qlrxxAndSyqTable").find("tr");



        var j = 0;

        for (var i=0;i<trs.length;i++){
            var trDabh = trs.eq(i).find("td").eq(0).html();
            if (trDabh==thisDabh){
                $(trs).eq(i).show()
                if (j==0){
                    $(trs).eq(i).click()
                    j=1;
                }
            }
            else $(trs).eq(i).hide()
        }




    })

    $(document).on('click', '#deleteDaxxBtn', function () {

        var index = $("#saveDaxxBtn").attr("index");

        if (index==""||$("#showDaxxForm #dabh")==""){
            alert("请选择一个档案")
            return false
        }
        if (confirm("确定删除?")==false)
            return false
        $("#daxxTrIndex"+index).remove();
        $("#daxxFormIndex"+index).remove();
        var trs = $("#qlrxxAndSyqTable tr")

        for (var i=0;i<trs.length;i++){
            if (trs.eq(i).find("td").eq(0).html()==$("#showDaxxForm #dabh").val()){

                var index = trs.eq(i).attr("index")
                if ($("#saveQlrAndSyqxxBtn").attr("index")==index)
                    $("#showQlrxxAndSyqForm .form-control").val("")
                var formId = "qlrxxAndSyqFormIndex"+index;
                $("#"+formId).remove()
                trs.eq(i).remove()
            }

        }

        $("#showDaxxForm input").val("")
        $("#showQlrxxAndSyqForm").find(".form-control").val("")
        $("#saveQlrAndSyqxxBtn").attr("index","")
        return false

    })

    var qlrxxAndSyqIndex = 0;
    $(document).on('click', '#saveDaxxBtn', function () {

        var index = $(this).attr("index")
        if ($("#showDaxxForm #dabh").val()==""){
            alert("请选择一个档案")
            return false
        }

        var dabh = $("#showDaxxForm #dabh").val();
        var daTrs = $("#daxxTable tr");
        for (var i=0;i<daTrs.length;i++){
            if (daTrs.eq(i).attr("index")==index)
                continue
            if (daTrs.eq(i).find("td").eq(0).html()==dabh){
                alert("重复的档案编号")
                return false
            }
        }
        if (zddm!=""&&$("#zddm").val()!=zddm){
            var isContinue = confirm("此档案信息的宗地代码与前面的宗地代码不一致，是否继续?");
            if (isContinue==false)
                return false
        }


        if (index==""){
            var daxxTable = $("#daxxTable")
            var trId = "daxxTrIndex"+(++daxxIndex);
            daxxTable.append("<tr class='daxxTr' id="+trId+" index="+daxxIndex+">\n" +
                "                            <th scope=\"row\">#</th>\n" +
                "                            <td name='dabh'></td>\n" +
                "                            <td name='dalxbh'></td>\n" +
                "                            <td name='bgqx'></td>\n" +
                "                            <td name='fpys'></td>\n" +
                "                        </tr>")

            // $("#"+trId).click();
            var formId = "daxxFormIndex"+daxxIndex;
            var inputForm = $("#showDaxxForm").html();
            $("#path").before("<div style='display: none' class='daxxForm' id="+formId+"> " +inputForm+

                "</div>")
            index = daxxIndex
        }



        $("#zddm").val(zddm)
        $("#zdtzm").val(zdtzm)
        $("#zl").val(fwzl)

        var trId = "daxxTrIndex"+index
        var tds = $("#"+trId).find("td");
         for (var i=0;i<tds.length;i++){
             var name = tds.eq(i).attr("name");
             var showName = $("#showDaxxForm #"+name).val();
             tds.eq(i).html(showName)
         }
         var formId = "daxxFormIndex"+index;
         var inputs = $("#"+formId+" .form-control");
         for (var i=0;i<inputs.length;i++){
             var name = inputs.eq(i).attr("name");
             inputs.eq(i).val($("#showDaxxForm #"+name).val())

         }


         var trs = $("#qlrxxAndSyqTable tr")
        for (var i=0;i<trs.length;i++){
             if (trs.eq(i).find("td").eq(0).html()==dabh){
                 alert("保存成功")
                return false
             }
        }
        var inputForm = $("#showQlrxxAndSyqForm").html();

         if (isFromDB == 1){

            var zdxxInputs = $(".zdxx .form-control");

            for (var z = 0;z<zdxxInputs.length;z++){
               var name = zdxxInputs.eq(z).attr("id");
               var s = "zdjbxxFromDB."+name;
               zdxxInputs.eq(z).val(eval(s));
            }

             for (var i = 0;i<qlrAndSyqFromDB.length;i++){
                 var  trId = "qlrxxAndSyqTrIndex"+(++qlrxxAndSyqIndex);
                 $("#qlrxxAndSyqTable").append("<tr class='qlrxxAndSyqTr' id="+trId+" index="+qlrxxAndSyqIndex+">\n" +
                     "                            <th scope=\"row\">#</th>\n" +
                     "                            <td name='dabh'>"+dabh+"</td>\n" +
                     "                            <td name='bdcqzh'>"+qlrAndSyqFromDB[i].qlr.bdcqzh+"</td>\n" +
                     "                            <td name='qlr'>"+qlrAndSyqFromDB[i].qlr.qlrmc+"</td>\n" +
                     "                        </tr>")
                 var formId = "qlrxxAndSyqFormIndex"+qlrxxAndSyqIndex
                 $("#path").before("<div style='display: none' class='qlrxxAndSyqForm"+dabh+"' id="+formId+"> " +inputForm+
                     "</div>")

                 var qlrInputs = $("#"+formId).find(".qlrxxForm .form-control")
                 for (var j=0;j<qlrInputs.length;j++){
                     var name = qlrInputs.eq(j).attr("id")
                     var s = "qlrAndSyqFromDB["+i+"].qlr."+name;
                     qlrInputs.eq(j).val(eval(s))
                 }
                 var syqInputs = $("#"+formId).find(".syqxxForm .form-control")
                 for (var j=0;j<syqInputs.length;j++){
                     var name = syqInputs.eq(j).attr("id")
                     var s = "qlrAndSyqFromDB["+i+"].jsydsyq."+name;
                     syqInputs.eq(j).val(eval(s))
                 }
             }



         }

         else {
             for (var i=0;i<tdzh.length;i++){
                 var  trId = "qlrxxAndSyqTrIndex"+(++qlrxxAndSyqIndex);
                 $("#qlrxxAndSyqTable").append("<tr class='qlrxxAndSyqTr' id="+trId+" index="+qlrxxAndSyqIndex+">\n" +
                     "                            <th scope=\"row\">#</th>\n" +
                     "                            <td name='dabh'>"+dabh+"</td>\n" +
                     "                            <td name='bdcqzh'>"+tdzh[i]+"</td>\n" +
                     "                            <td name='qlr'>"+qlrs[i]+"</td>\n" +
                     "                        </tr>")

                 var formId = "qlrxxAndSyqFormIndex"+qlrxxAndSyqIndex
                 $("#path").before("<div style='display: none' class='qlrxxAndSyqForm"+dabh+"' id="+formId+"> " +inputForm+
                     "</div>")
                 $("#"+formId+" #qlrmc").val(qlrs[i])

                 $("#"+formId+" #bdcqzh").val(tdzh[i])

                 $("#"+formId+" #xtdzzl").val(fwzl)

             }
         }


        $("#daxxTrIndex"+index).click();

        alert("保存成功")
         return false;
    })

    $(document).on('click', '.qlrxxAndSyqTr', function () {
        $(".qlrxxAndSyqTr").css("background-color","")
        $(this).css("background-color","#428bca")
        var index = $(this).attr("index");
        $("#saveQlrAndSyqxxBtn").attr("index",index);
        var showFormInputs = $("#showQlrxxAndSyqForm .form-control")
        var nowFormInputs = $("#qlrxxAndSyqFormIndex"+index+" .form-control")
        for (var i=0;i<showFormInputs.length;i++){
            showFormInputs.eq(i).val(nowFormInputs.eq(i).val())
        }
    })

    $(document).on('click', '#saveQlrAndSyqxxBtn', function () {
        var index = $(this).attr("index");
        if(index==""||$("#showQlrxxAndSyqForm #qlrmc").val()==""){
                alert("请选择一个权利人和使用权信息")
                return false
        }
        var qlrxxAndSyqTr = $("#qlrxxAndSyqTrIndex"+index);
        qlrxxAndSyqTr.find("td").eq(1).html($("#showQlrxxAndSyqForm #bdcqzh").val())
        qlrxxAndSyqTr.find("td").eq(2).html($("#showQlrxxAndSyqForm #qlrmc").val())
       var inputs =  $("#qlrxxAndSyqFormIndex"+index+" .form-control");
       for (var i=0;i<inputs.length;i++){
           var name = inputs.eq(i).attr("name")
           inputs.eq(i).val($("#showQlrxxAndSyqForm #"+name).val())
       }
       alert("保存成功")
       return false
    })
    $(document).on('click', '#submitForm', function () {
        if (confirm("确认提交?")==false)
            return false
        var tdxxForm = $(".tdxxForm")
        for (var i = 0;i<tdxxForm.length;i++){
            var inputs = tdxxForm.eq(i).find(".form-control");
            for (var  j = 0;j<inputs.length;j++){
                var name = inputs.eq(j).attr("id");
                inputs.eq(j).attr("name","tdpzyts["+i+"]."+name)
            }
        }

        var daxxForm = $(".daxxForm")
        for (var i=0;i<daxxForm.length;i++){
            var inputs = daxxForm.eq(i).find(".form-control");
            var thisdabh = inputs.eq(0).val();
            for (var j=0;j<inputs.length;j++){
                var name = inputs.eq(j).attr("id")
                inputs.eq(j).attr("name","txms["+i+"]."+name)
            }
            var qlrxxAndSyqForm = $(".qlrxxAndSyqForm"+thisdabh);

            for (var j=0;j<qlrxxAndSyqForm.length;j++){
                var qlrxxInputs = qlrxxAndSyqForm.eq(j).find(".qlrxxForm").find(".form-control");
                var syqxxInputs = qlrxxAndSyqForm.eq(j).find(".syqxxForm").find(".form-control");
                for (var o=0;o<qlrxxInputs.length;o++){
                    var qlrxxName = qlrxxInputs.eq(o).attr("id");
                    qlrxxInputs.eq(o).attr("name","txms["+i+"].qlrAndSyqs["+j+"].qlr."+qlrxxName)
                }
                for (var o=0;o<syqxxInputs.length;o++){
                    var syqxxName = syqxxInputs.eq(o).attr("id");
                    syqxxInputs.eq(o).attr("name","txms["+i+"].qlrAndSyqs["+j+"].jsydsyq."+syqxxName)
                }
            }


        }

        // return false;
        // var qlrxxAndSyqForm = $(".qlrxxAndSyqForm");
        // for (var i=0;i<qlrxxAndSyqForm.length;i++){
        //    var qlrxxInputs = qlrxxAndSyqForm.eq(i).find(".qlrxxForm").eq(0).find(".form-control");
        //    var syqxxInputs = qlrxxAndSyqForm.eq(i).find(".syqxxForm").eq(0).find(".form-control");
        //    for (var j = 0;j<qlrxxInputs.length;j++){
        //        var qlrxxName = qlrxxInputs.eq(j).attr("id");
        //
        //        qlrxxInputs.eq(j).attr("name","qlrAndSyqs["+i+"].qlr."+qlrxxName)
        //
        //    }
        //    for (var o=0;o<syqxxInputs.length;o++){
        //        var syqxxName = syqxxInputs.eq(o).attr("id");
        //        syqxxInputs.eq(o).attr("name","qlrAndSyqs["+i+"].jsydsyq."+syqxxName)
        //    }
        // }


        var data = $("#allData").serialize();
        $.ajax({
            url: 'submitData',
            type: 'post', //
            async: true,    //或false,是否异步
            data: data,
            timeout: 5000,    //超时时间
            dataType: 'text',    //返回的数据格式：json/xml/html/script/jsonp/text
            success: function (data) {
                $("#clearForm").click()
                alert(data)

            },
            error: function (data) {
                alert("操作失败")
            }
        })

    });

    $(document).on('click', '#addQlrxxBtn', function () {
        qlrxxIndex++;
        var id = 'qlrxx'+qlrxxIndex;
        var originQlrxxForm = $("#originQlrxxForm").html();
        $("#addQlrxx").before(" <div class='qlrxxForm' id='"+id+"'>\n" +
            "                <div class=\"from-row qlrxx\">\n" +
            "                    <div class=\"qlrxx form-group col-md-12\">\n" +
            "                        <hr>\n" +
            "                    </div>\n" +
            "                </div>\n" +originQlrxxForm+

            "                <div id=\"deleteQlrxx\" class=\"from-row qlrxx\">\n" +
            "                    <div class=\"qlrxx form-group col-md-6\">\n" +
            "                        <button deleteQlrxxIndex='"+qlrxxIndex+"' style=\"margin-left: 200px\"  class=\"deleteQlrxxBtn btn btn-danger\">删除</button>\n" +
            "                    </div>\n" +
            "                </div>\n" +
            "                </div>")
        return false;
    })
    $(document).on('click', '.deleteQlrxxBtn', function () {
        var index = $(this).attr("deleteQlrxxIndex");
        $("#qlrxx"+index).remove();
        return false

    })
    $(document).on('click', '#addTdxxBtn', function () {
        tdxxIndex++;

        var id = 'tdytxx'+tdxxIndex;
        var originTdxxForm = $("#originTdxxForm").html();
        $("#addTdxx").before("\n" +"<div class='tdxxForm' id="+id+">"+originTdxxForm+ "<div  class=\"from-row zdxx tdytxx\">\n" +
            "                    <div class=\"zdxx tdytxx form-group col-md-6\">\n" +
            "                        <button deleteTdxxIndex='"+tdxxIndex+"'style=\"margin-left: 200px\"  class=\"deleteTdxxBtn btn btn-danger\">删除</button>\n" +
            "                    </div>\n" +
            "                </div> </div>")
        $("#"+id+" #tdytmc").attr("inputId",id+" #tdyt")
        return false

    })
    $(document).on('click', '.deleteTdxxBtn', function () {
        if (confirm("确定删除?")==false)
            return false
        var index = $(this).attr("deleteTdxxIndex")
        $("#tdytxx"+index).remove()
        return false

    })
    $(document).on('click', '.showForm', function () {
        var show = $(this).attr("show");
        $(".from-row").hide();
        $(show).show();
    })





}

</script>
</body>
</html>